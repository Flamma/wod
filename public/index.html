<!DOCTYPE html>
<html id="document">
  <head>
    <meta charset="utf-8">

    <script src="https://cdn.jsdelivr.net/npm/vue@3.0.0"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/core-js/2.1.4/core.min.js"></script>
    <script src="//unpkg.com/@feathersjs/client@^3.0.0/dist/feathers.js"></script>
    <script src="//unpkg.com/socket.io-client@1.7.3/dist/socket.io.js"></script>

    <script type="text/javascript" src="js/client.js"></script>

    <title id="title">{{ roomName }} : {{ wod }}</title>
  </head>
  <body>
    <div id="main-menu-bar">{{ wod }} : {{ roomName }}</div>
    <div id="main-app">
      <div id="lobby">
        {{ labelPlayerName }}<input type="text" id="playername" v-model="playerName"></input>
        {{ labelRoomName }}<input type="text" id="roomname" v-model="roomName"></input>
        <button v-on:click="changeRoom">{{ labelChange || 'change' }}</button>
      </div>
      <div id="chat-area">
        <div id="messages">
          <ul id="message-list">
            <li v-for="m in chatMessages">{{ m.player.name }}: {{ m.roll && m.roll.result || '' }} {{ m.message }}</li>
          </ul>
        </div>
        <div id="input-area">
          <input type="text" id="input-message" v-on:change="send" v-model="inputMessage"></input><button v-on:click="send">{{ labelSend }}</button>
        </div>
        <div id="dice-area"></div>
      </div>
      <div id="player-area">
        <!-- TODO: redo with components -->
          <ul id="player-list">
            <li v-for="p in players">{{ p.name }}</li>
          </ul>
      </div>
    </div>
    <div id="low-bar">
      <!-- TODO: make dynamic -->
      <a href="https://github.com/muetsii/wod/">World of Diceness</a> by <a href="https://vampiro.asqueados.net">Los Archivos de la Noche</a>
    </div>
  </body>
</html>
